{"ast":null,"code":"import _classCallCheck from\"C:/Users/charl/OneDrive/Desktop/firebase-hosting/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/charl/OneDrive/Desktop/firebase-hosting/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/charl/OneDrive/Desktop/firebase-hosting/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/charl/OneDrive/Desktop/firebase-hosting/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,useRef,useEffect}from'react';import{FormControl}from'react-bootstrap';import'./contact.css';import firebase from'firebase';import{db}from'./firebase';import emailjs from'emailjs-com';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(){var _this;_classCallCheck(this,Form);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',email:'',subject:'',message:'',nameError:false,emailError:false,subjectError:false,messageError:false,sent:false};_this.handleName=function(e){_this.setState({name:e.target.value});};_this.handleEmail=function(e){_this.setState({email:e.target.value});};_this.handleSubject=function(e){_this.setState({subject:e.target.value});};_this.handleMessage=function(e){_this.setState({message:e.target.value});};_this.formSubmit=function(e){//form validation\nvar validateForm=function validateForm(){var myregex=new RegExp(/^[a-zA-Z0-9 _+-]*$/);var emailRegex=new RegExp(/^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/);var name=document.getElementById('name').value;var email=document.getElementById('email').value;var subject=document.getElementById('subject').value;var message=document.getElementById('message').value;if(!myregex.test(name)){_this.setState({nameError:true,emailError:false,subjectError:false,messageError:false,sent:false});return false;}if(!emailRegex.test(email)){_this.setState({nameError:false,emailError:true,subjectError:false,messageError:false,sent:false});return false;}if(!myregex.test(subject)){_this.setState({nameError:false,emailError:false,subjectError:true,messageError:false,sent:false});return false;}if(!myregex.test(message)){_this.setState({nameError:false,emailError:false,subjectError:false,messageError:true,sent:false});return false;}return true;};if(validateForm()){e.preventDefault();emailjs.sendForm('service_92p2bns','template_t2t9sb3',e.target,'user_hcMT3qjFKeDeR3KT4Zt04').then(function(result){console.log(result.text);},function(error){console.log(error.text);});_this.setState({name:'',email:'',subject:'',message:''});_this.setState({nameError:false,emailError:false,subjectError:false,messageError:false,sent:true});}};return _this;}_createClass(Form,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.formSubmit,id:\"contact\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Get in Touch\"}),/*#__PURE__*/_jsx(FormControl,{className:\"input-box input1\",type:\"text\",placeholder:\"Name\",id:\"name\",name:\"name\",value:this.state.name,onChange:this.handleName,required:true}),/*#__PURE__*/_jsx(FormControl,{className:\"input-box input2\",type:\"text\",placeholder:\"Email\",id:\"email\",name:\"email\",value:this.state.email,onChange:this.handleEmail,required:true}),/*#__PURE__*/_jsx(FormControl,{className:\"input-box input3\",type:\"text\",placeholder:\"Subject\",id:\"subject\",name:\"subject\",value:this.state.subject,onChange:this.handleSubject,required:true}),/*#__PURE__*/_jsx(FormControl,{className:\"input-box input4\",type:\"text\",placeholder:\"Message\",as:\"textarea\",rows:\"5\",id:\"message\",name:\"message\",value:this.state.message,onChange:this.handleMessage,required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg\",children:[this.state.sent?/*#__PURE__*/_jsx(\"div\",{children:\"Message has been sent\"}):null,this.state.nameError?/*#__PURE__*/_jsx(\"div\",{children:\"Name not valid\"}):null,this.state.emailError?/*#__PURE__*/_jsx(\"div\",{children:\"Email not valid\"}):null,this.state.subjectError?/*#__PURE__*/_jsx(\"div\",{children:\"Subject not valid\"}):null,this.state.messageError?/*#__PURE__*/_jsx(\"div\",{children:\"Message not valid\"}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"send-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-success send\",children:\"Send Message\"})})]})});}}]);return Form;}(Component);export{Form as default};","map":{"version":3,"sources":["C:/Users/charl/OneDrive/Desktop/firebase-hosting/portfolio/src/components/Contact/Contact.js"],"names":["React","Component","useRef","useEffect","FormControl","firebase","db","emailjs","Form","state","name","email","subject","message","nameError","emailError","subjectError","messageError","sent","handleName","e","setState","target","value","handleEmail","handleSubject","handleMessage","formSubmit","validateForm","myregex","RegExp","emailRegex","document","getElementById","test","preventDefault","sendForm","then","result","console","log","text","error"],"mappings":"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","sourcesContent":["import React, { Component, useRef, useEffect } from 'react';\r\nimport { FormControl } from 'react-bootstrap';\r\nimport './contact.css';\r\nimport firebase from 'firebase';\r\nimport { db } from './firebase';\r\nimport emailjs from 'emailjs-com';\r\n\r\n\r\n\r\nexport default class Form extends Component {\r\n\r\n  /*\r\nfirebase mail trigger\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n\r\n      db.collection('mail').add({\r\n        to: 'lankydragonqueries@gmail.com',\r\n        message: {\r\n          name: name,\r\n          email: email,\r\n          subject: subject,\r\n          message:message,\r\n        }\r\n      }).then(() => alert('email sent!!'));\r\n\r\n      setName('');\r\n      setEmail('');\r\n      setSubject('');\r\n      setMessage('');\r\n    };\r\n\r\n    */\r\n\r\n    \r\n    state={\r\n        name:'',\r\n        email:'',\r\n        subject:'',\r\n        message:'',\r\n\r\n        nameError:false,\r\n        emailError:false,\r\n        subjectError:false,\r\n        messageError:false,\r\n        sent:false\r\n    }\r\n\r\n    // handle inputs\r\n\r\n    handleName=(e)=>{\r\n        this.setState({\r\n            name:e.target.value\r\n    })\r\n    }\r\n\r\n    handleEmail=(e)=>{\r\n        this.setState({\r\n            email:e.target.value\r\n    })\r\n    }\r\n\r\n    handleSubject=(e)=>{\r\n        this.setState({\r\n            subject:e.target.value\r\n    })\r\n    }\r\n\r\n    handleMessage=(e)=>{\r\n        this.setState({\r\n            message:e.target.value\r\n    })\r\n    }\r\n\r\n    \r\n    formSubmit=(e)=>{\r\n\r\n        //form validation\r\n        const validateForm = () => {\r\n        \r\n            let myregex = new RegExp(/^[a-zA-Z0-9 _+-]*$/);\r\n            let emailRegex = new RegExp(/^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/);\r\n            let name = document.getElementById('name').value;\r\n            let email = document.getElementById('email').value;\r\n            let subject = document.getElementById('subject').value;\r\n            let message = document.getElementById('message').value;\r\n\r\n            if(!myregex.test(name))\r\n            {\r\n                this.setState({nameError:true, emailError:false, subjectError:false, messageError:false, sent:false});\r\n                return false;\r\n            }\r\n            \r\n            if(!emailRegex.test(email))\r\n            {\r\n                this.setState({nameError:false, emailError:true, subjectError:false, messageError:false, sent:false});\r\n                return false;\r\n            }\r\n            \r\n            if(!myregex.test(subject))\r\n            {\r\n                this.setState({nameError:false, emailError:false, subjectError:true, messageError:false, sent:false});\r\n                return false;\r\n            }\r\n\r\n            if(!myregex.test(message))\r\n            {\r\n                this.setState({nameError:false, emailError:false, subjectError:false, messageError:true, sent:false});\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n        \r\n        if(validateForm()) {\r\n\r\n          e.preventDefault();\r\n\r\n          emailjs.sendForm('service_92p2bns', 'template_t2t9sb3', e.target, 'user_hcMT3qjFKeDeR3KT4Zt04')\r\n            .then((result) => {\r\n                console.log(result.text);\r\n            }, (error) => {\r\n                console.log(error.text);\r\n            });\r\n\r\n            this.setState({\r\n              name:'',\r\n              email:'',\r\n              subject:'',\r\n              message:''\r\n          })\r\n\r\n          this.setState({nameError:false, emailError:false, subjectError:false, messageError:false, sent:true});\r\n            \r\n    }\r\n\r\n    }\r\n\r\nrender() {\r\n    return ( \r\n        <>\r\n\r\n        <form onSubmit={this.formSubmit} id='contact'>\r\n            <h1>Get in Touch</h1>\r\n            <FormControl className='input-box input1' type='text' placeholder='Name' id='name' name='name' value={this.state.name} onChange={this.handleName} required/>\r\n            <FormControl className='input-box input2' type='text' placeholder='Email' id='email' name='email' value={this.state.email} onChange={this.handleEmail} required/>\r\n            <FormControl className='input-box input3' type='text' placeholder='Subject' id='subject' name='subject' value={this.state.subject} onChange={this.handleSubject} required/>\r\n            <FormControl className='input-box input4' type='text' placeholder='Message'as='textarea' rows='5' id='message' name='message' value={this.state.message} onChange={this.handleMessage} required/>\r\n            \r\n            <div className='msg'>\r\n            {this.state.sent?<div>Message has been sent</div>:null}\r\n            {this.state.nameError?<div>Name not valid</div>:null}\r\n            {this.state.emailError?<div>Email not valid</div>:null}\r\n            {this.state.subjectError?<div>Subject not valid</div>:null}\r\n            {this.state.messageError?<div>Message not valid</div>:null}  \r\n            </div>\r\n  \r\n            <div className='send-btn'><button type='submit' className='btn btn-outline-success send'>Send Message</button></div>\r\n\r\n        </form>\r\n         \r\n        </>\r\n    )\r\n}\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}